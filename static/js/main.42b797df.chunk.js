(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(66)},33:function(e,t,a){},35:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(6),r=a.n(l),o=(a(33),a(19)),c=a(7),u=a(8),i=a(10),m=a(9),h=a(11),d=(a(35),a(27)),g=a(12),f=a.n(g),p=(a(56),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={name:"",email:"",showButton:!1},a.onlyLetterMethod=function(e){/[a-zA-Z]+/g.test(e.key)||e.preventDefault()},a.handleEmailChange=function(e){a.setState({email:e.target.value,showButton:!0})},a.handleNameChange=function(e){a.setState({name:e.target.value,showButton:!0})},a.handleResetInput=function(){a.setState({name:"",email:""})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.name,l=a.length>0&&n.length>0;return s.a.createElement("div",{className:"header"},s.a.createElement("form",{className:"form",onSubmit:this.props.send},s.a.createElement("input",{id:"name",name:"name",type:"text",placeholder:"Name",value:this.state.name,onKeyPress:function(t){return e.onlyLetterMethod(t)},onChange:this.handleNameChange,maxLength:"20",autoFocus:!0}),s.a.createElement("input",{id:"email",name:"email",type:"text",placeholder:"E-mail",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",value:this.state.email,onChange:this.handleEmailChange}),s.a.createElement("button",{className:"submit",disabled:!l},"Submit")),this.state.showButton&&s.a.createElement("button",{className:"reset",onClick:this.handleResetInput,onChange:this.handleNameChange&&this.handleEmailChange},"Reset fields"))}}]),t}(n.Component)),E=(a(58),a(4)),v=a(5),w=function(e){return s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},e.index),s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.email),s.a.createElement("td",null,s.a.createElement("button",{className:"deleteButton",onClick:e.delete},s.a.createElement(E.a,{icon:v.d}))))},b=(a(62),function(e){return s.a.createElement("div",{className:"addUserBtn"},s.a.createElement("button",{onClick:function(){e.toggled(),e.toggledButton()},disabled:e.disabled},s.a.createElement(E.a,{icon:v.c})," ",s.a.createElement("span",null,"Add user")," "))}),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={users:[],showForm:!1,showButton:!0,message:"",click:0},a.userDataHandler=function(e){e.preventDefault();var t=a.state.showForm,n=a.state.showButton,l={id:100*Math.random()+10,name:e.target.name.value,email:e.target.email.value},r=s.a.createElement("span",null,s.a.createElement(E.a,{icon:v.a})," You have successfully added a user, you can`t add new user because of limit"),c=s.a.createElement("span",null,s.a.createElement(E.a,{icon:v.a})," You have successfully added a user"),u=s.a.createElement("span",null,s.a.createElement(E.a,{icon:v.b})," This email address already exists");if(!0===a.state.users.map(function(e){return e.email}).includes(l.email))return e.preventDefault(),a.setState({message:u,showButton:!n,showForm:!t});a.state.users.length>=9?a.setState({users:Object(o.a)(a.state.users).concat([l]),message:r,showButton:!n,showForm:!t}):a.setState({users:Object(o.a)(a.state.users).concat([l]),message:c,showButton:!n,showForm:!t}),f.a.post("http://localhost:4000/users",l).then(function(e){console.log(e)})},a.toggleFormHandler=function(){var e=a.state.showForm;a.setState({showForm:!e,message:""})},a.toggleButtonHandler=function(){var e=a.state.showButton;a.setState({showButton:!e,message:""})},a.deleteUserHandler=function(e,t){var n=s.a.createElement("span",null,s.a.createElement(E.a,{icon:v.a})," You have successfully delete user");a.setState({users:a.state.users.filter(function(t,a){return a!==e}),message:n,showButton:!0,showForm:!1}),f.a.delete("http://localhost:4000/users/"+t.id).then(function(e){console.log(e)})},a.reorderHandler=function(e){e.preventDefault();var t=a.state.click;if(t++,a.setState({click:t}),t<=1){var n=a.state.users;n.sort(function(e,t){return parseFloat(e.name.length)-parseFloat(t.name.length)}),a.setState({users:n}),fetch("http://localhost:4000/users?_sort=name.length&_order=asc").then(function(e){return e.json()}).then(function(e){return console.log(e)})}if(t>1){var s=a.state.users;s.sort(function(e,t){return parseFloat(t.name.length)-parseFloat(e.name.length)}),a.setState({users:s}),fetch("http://localhost:4000/users?_sort=name.length&_order=desc").then(function(e){return e.json()}).then(function(e){return console.log(e)})}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=s.a.createElement("span",null,s.a.createElement(E.a,{icon:v.b})," You can`t add new user because of limit");f.a.get("http://localhost:4000/users").then(function(a){e.setState({users:a.data}),console.log(a),e.state.users.length>9&&e.setState({message:t})})}},{key:"render",value:function(){var e=this,t=this.state.users.map(function(t,a,n){return s.a.createElement(w,{index:a+1,key:a,delete:function(){return e.deleteUserHandler(a,t)},name:t.name,email:t.email})});return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"Header"},this.state.showButton&&s.a.createElement(b,{disabled:this.state.users.length>9,toggledButton:this.toggleButtonHandler,toggled:this.toggleFormHandler}),s.a.createElement("span",{className:"message"},this.state.message),this.state.showForm&&s.a.createElement(p,{send:this.userDataHandler})),s.a.createElement(d.a,{striped:!0},s.a.createElement("thead",{onClick:function(t){return e.reorderHandler(t)}},s.a.createElement("tr",null,s.a.createElement("th",null,"LP"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"E-mail"),s.a.createElement("th",null,"Delete User"))),s.a.createElement("tbody",null,t)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(64);r.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.42b797df.chunk.js.map